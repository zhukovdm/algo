Slightly modified https://github.com/the-tourist/algo/blob/master/misc/debug.cpp
